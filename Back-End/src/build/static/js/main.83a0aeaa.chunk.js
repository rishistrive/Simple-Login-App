(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,t,a){},60:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/welcome.135f8233.jpg"},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(17),c=a.n(r),s=(a(59),a(19)),o=a(7),l=(a(60),a(61),a(21)),i=a.n(l),j=a(25),u=a(91),b=a(95),d=a(92),p=a(12),m="SIGNUP_USER",O="SET_LOGIN_USER",x="RESET_LOGIN_USER",h=function(e){return{type:m,payload:e}},f=a(47),v=a(48),g=a(49),y=a.n(g).a.create({baseURL:"http://localhost:3000/",headers:{"Content-type":"application/json"}}),w=new(function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,[{key:"signup",value:function(e){return y.post("/signup",e)}},{key:"login",value:function(e){return y.post("/login",e)}}]),e}()),k=function(e){return function(){var t=Object(j.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.signup(e);case 3:n=t.sent,a(h(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},S=[{label:"Name",type:"text",name:"names",placeholder:"Enter name",required:"required"},{label:"Email Address",type:"email",name:"email",placeholder:"Enter email",required:"required"},{label:"Password",type:"password",name:"password",placeholder:"Enter password",required:"required"},{label:"City",type:"text",name:"city",placeholder:"Enter city",required:"required"}],E=a(1);function I(){var e=Object(p.b)(),t=Object(o.g)(),a=function(){var a=Object(j.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!(n.target.names.value&&n.target.password.value&&n.target.email.value&&n.target.city.value)){a.next=5;break}return a.next=4,e(k({name:n.target.names.value,password:n.target.password.value,email:n.target.email.value,city:n.target.city.value}));case 4:t.push("/login");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"col-3 mx-auto",children:[Object(E.jsx)("br",{}),Object(E.jsx)("h1",{children:"Signup Page"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{onSubmit:a,children:[S.map((function(e){return Object(E.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsx)(b.a.Label,{children:e.label}),Object(E.jsx)(b.a.Control,{type:e.type,placeholder:e.placeholder,name:e.name})]})})),Object(E.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})}function L(){var e=Object(p.b)();return Object(E.jsxs)("div",{className:"col-3 mx-auto",children:[Object(E.jsx)("br",{}),Object(E.jsx)("h1",{children:"Login Page"}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{onSubmit:function(t){var a;t.preventDefault(),t.target.email.value&&t.target.password.value?e((a={email:t.target.email.value,password:t.target.password.value},function(){var e=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.login(a);case 3:n=e.sent,t((r=n.data,localStorage.setItem("token",r.token),localStorage.setItem("name",r.name),{type:O,payload:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Incorrect Email or Password");case 10:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())):alert("invlid input")},children:[Object(E.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(E.jsx)(b.a.Label,{children:"Email address"}),Object(E.jsx)(b.a.Control,{type:"email",placeholder:"Enter email",name:"email"})]}),Object(E.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(E.jsx)(b.a.Label,{children:"Password"}),Object(E.jsx)(b.a.Control,{type:"password",placeholder:"Password",name:"password"})]}),Object(E.jsx)(d.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})}var N=a(93),P=a(94);function U(){return Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{className:"pt-5",children:"Welcome Page"}),Object(E.jsx)("img",{alt:"avtar",src:a(86).default})]})}var q=a(2),G=a(3),R=["component"],_=function(e){var t=e.component,a=Object(G.a)(e,R),n=Object(p.c)((function(e){return e.Users.token}));return Object(E.jsx)(o.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return n?Object(E.jsx)(t,Object(q.a)(Object(q.a)({},a),e)):Object(E.jsx)(o.a,{to:"/login"})}}))},B=["component"],C=function(e){var t=e.component,a=Object(G.a)(e,B),n=Object(p.c)((function(e){return e.Users.token}));return Object(E.jsx)(o.b,Object(q.a)(Object(q.a)({},a),{},{render:function(e){return n?Object(E.jsx)(o.a,{to:"/welcome"}):Object(E.jsx)(t,Object(q.a)(Object(q.a)({},a),e))}}))};function A(){var e=Object(o.g)(),t=Object(p.b)();return Object(n.useEffect)((function(){t({type:x}),localStorage.removeItem("token"),localStorage.removeItem("name"),alert("You are SuccessFully LogOut"),e.push("/login")}),[t,e]),Object(E.jsx)("div",{})}var F=function(){var e=Object(p.c)((function(e){return e.Users.token}));return Object(E.jsx)("div",{className:"App",children:Object(E.jsxs)(s.a,{children:[Object(E.jsx)(N.a,{bg:"dark",variant:"dark",children:Object(E.jsxs)(u.a,{children:[Object(E.jsx)(N.a.Brand,{as:s.b,to:"/",children:"React App"}),Object(E.jsx)(P.a,{className:"me-auto",children:e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P.a.Link,{as:s.b,to:"/",children:"Welcome"}),Object(E.jsx)(P.a.Link,{as:s.b,to:"/logout",children:"Logout"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(P.a.Link,{as:s.b,to:"/login",children:"Login"}),Object(E.jsx)(P.a.Link,{as:s.b,to:"/signup",children:"Signup"})]})})]})}),Object(E.jsxs)(o.d,{children:[Object(E.jsx)(_,{component:A,exact:!0,path:"/logout"}),Object(E.jsx)(_,{component:U,exact:!0,path:"/welcome"}),Object(E.jsx)(_,{exact:!0,path:"/",children:Object(E.jsx)(o.a,{to:"/welcome"})}),Object(E.jsx)(C,{component:I,exact:!0,path:"/signup"}),Object(E.jsx)(C,{component:L,exact:!0,path:"/login"})]})]})})},D=a(24),J=a(54),T={users:[],token:localStorage.getItem("token"),username:localStorage.getItem("name")},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(q.a)(Object(q.a)({},e),{},{users:t.payload});case O:return Object(q.a)(Object(q.a)({},e),{},{token:t.payload.token,username:t.payload.name});case x:return Object(q.a)(Object(q.a)({},e),{},{token:null,_id:null,username:null,email:null,city:null});default:return e}},Y=Object(D.b)({Users:W}),z=Object(D.d)(Y,Object(D.c)(Object(D.a)(J.a)));c.a.render(Object(E.jsx)(p.a,{store:z,children:Object(E.jsx)(F,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.83a0aeaa.chunk.js.map